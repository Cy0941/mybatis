<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.cxy.mybatis.dao.mapper.UserOrderMapper">

    <!--自定义resultMap-->
    <resultMap id="userOrderResultMap" type="orders">
        <id property="id" column="id"/>
        <result property="userId" column="user_id"/>
        <result property="number" column="number"/>
        <result property="createTime" column="createtime"/>
        <result property="note" column="note"/>
        <!--一对一关联属性 cxy javaType 属性必须设置-->
        <association property="user" javaType="cn.cxy.mybatis.model.User">
            <id column="user_id" property="id"/>
            <result column="username" property="username"/>
            <result column="sex" property="sex"/>
        </association>
    </resultMap>

    <!--使用resultType实现-->
    <select id="findUserOrder" resultType="cn.cxy.mybatis.vo.UserOrderVo">
        SELECT
            o.*,
            u.id,
            u.sex,
            u.username
        FROM orders o, user u
        WHERE o.user_id = u.id
    </select>

    <!--使用resultMap实现-->
    <select id="findUserOrderResultMap" resultMap="userOrderResultMap">
        SELECT
        o.*,
        u.id,
        u.sex,
        u.username
        FROM orders o, user u
        WHERE o.user_id = u.id
    </select>


</mapper>
